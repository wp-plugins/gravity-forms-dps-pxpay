/*! script for supporting the Gravity Forms DPS PxPay feed admin page */
jQuery(function(b){var d;b("select[name='_gfdpspxpay_form']").change(function(){d=b(this).val();b(".gfdpspxpay-feed-fields select option").remove();if(d){b.ajax({type:"GET",url:ajaxurl,cache:false,dataType:"text",data:{action:"gfdpspxpay_form_has_feed",id:d},success:a})}});b("form#post").submit(function(e){if(b("select[name='_gfdpspxpay_merchant_ref']",this).val()===""){e.preventDefault();alert("You must map the Merchant Reference to a field in the form, or payment will not be processed!")}});function a(f,e,h){var g=parseInt(b("input[name='post_ID']").val(),10);f=parseInt(f,10);if(f&&f!=g){alert("That form already has a feed.")}else{b.ajax({type:"GET",url:ajaxurl,cache:false,dataType:"html",data:{action:"gfdpspxpay_form_fields",id:d},success:c})}}function c(f,e,g){b(".gfdpspxpay-feed-fields select").each(function(){b(this).html(f)})}});